/* ===================================================
   SILKOVEN — Complete Style Sheet
   =================================================== */

/* ── VARIABLES ── */
:root {
    --rose: #c0392b;
    --bark: #6b3d2e;
    --gold: #b5883a;
    --cream: #fdf7f0;
    --blush: #f0d5c8;
    --green: #2e7d32;
    --bg: #fdf7f0;
    --bg2: #f5ece0;
    --bg3: #ede0cf;
    --card-bg: #fff;
    --card-shadow: rgba(107, 61, 46, .10);
    --text: #3a2218;
    --dark: #1a100a;
    --muted: #8d6e5a;
    --border: #e8d5c0;
    --tr: .3s;
}

[data-theme="dark"] {
    --bg: #121212;
    --bg2: #1E1E1E;
    /* Standard Surface */
    --bg3: #2C2C2C;
    --card-bg: #1E1E1E;
    --card-shadow: rgba(0, 0, 0, 0.5);
    --text: #E0E0E0;
    /* High Contrast */
    --dark: #FFFFFF;
    --muted: #B0B0B0;
    --border: #333333;
    --cream: #121212;
    /* Remap cream to dark bg for consistency */
    --blush: #2C2C2C;
}

/* ── RESET ── */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0
}

html {
    scroll-behavior: smooth
}

body {
    font-family: 'Jost', sans-serif;
    background: var(--bg);
    color: var(--text);
    transition: background var(--tr), color var(--tr);
    overflow-x: hidden
}

a {
    color: inherit;
    text-decoration: none
}

button {
    font-family: 'Jost', sans-serif;
    cursor: pointer
}

ul {
    list-style: none
}

.hidden {
    display: none !important
}

/* ── TOASTS ── */
.pts-toast {
    position: fixed;
    top: 80px;
    right: 20px;
    background: var(--bark);
    color: #fff;
    padding: .5rem 1.1rem;
    border-radius: 24px;
    font-size: .8rem;
    font-weight: 600;
    z-index: 9000;
    opacity: 0;
    pointer-events: none;
    transition: opacity .3s, transform .3s;
    transform: translateY(-12px)
}

.pts-toast.show {
    opacity: 1;
    transform: translateY(0)
}

.ach-toast {
    position: fixed;
    bottom: 28px;
    left: 50%;
    transform: translateX(-50%) translateY(30px);
    background: var(--dark);
    color: var(--cream);
    border-radius: 16px;
    padding: .9rem 1.4rem;
    display: flex;
    align-items: center;
    gap: .9rem;
    font-size: .82rem;
    z-index: 9001;
    opacity: 0;
    pointer-events: none;
    transition: opacity .3s, transform .3s;
    min-width: 260px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, .25)
}

.ach-toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0)
}

.ach-ico {
    font-size: 1.6rem
}

.ach-title {
    font-weight: 700;
    margin-bottom: .15rem
}

.ach-sub {
    color: var(--muted);
    font-size: .74rem
}

.lvl-toast {
    position: fixed;
    top: 80px;
    left: 50%;
    transform: translateX(-50%) translateY(-30px);
    background: linear-gradient(135deg, var(--gold), var(--bark));
    color: #fff;
    padding: .7rem 1.6rem;
    border-radius: 30px;
    font-weight: 700;
    font-size: .9rem;
    z-index: 9002;
    opacity: 0;
    pointer-events: none;
    transition: opacity .3s, transform .3s;
    display: flex;
    align-items: center;
    gap: .5rem;
    box-shadow: 0 6px 24px rgba(0, 0, 0, .2)
}

.lvl-toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0)
}

.lvl-pill {
    background: rgba(255, 255, 255, .25);
    border-radius: 20px;
    padding: .15rem .55rem;
    font-size: .8rem
}

/* ── NAVBAR ── */
#navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 5000;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: .8rem 2rem;
    background: rgba(253, 247, 240, .88);
    backdrop-filter: blur(14px);
    border-bottom: 1px solid var(--border);
    transition: background var(--tr)
}

[data-theme="dark"] #navbar {
    background: rgba(18, 18, 18, 0.92);
    border-bottom: 1px solid #333;
}

.nav-logo {
    font-family: 'Playfair Display', serif;
    font-size: 1.35rem;
    font-weight: 700;
    color: var(--bark);
    letter-spacing: -.5px;
    flex-shrink: 0;
    transition: color var(--tr);
    display: flex;
    align-items: center;
}

.nav-logo em {
    font-style: italic;
    color: var(--rose);
    font-weight: 400
}

.logo-img {
    height: 48px;
    width: 48px;
    object-fit: cover;
    border-radius: 50%;
    border: 2px solid rgba(192, 57, 43, 0.25);
    box-shadow: 0 2px 12px rgba(192, 57, 43, 0.18);
    transition: transform .25s, box-shadow .25s;
    flex-shrink: 0;
}

.logo-img:hover {
    transform: scale(1.06);
    box-shadow: 0 4px 20px rgba(192, 57, 43, 0.32);
}

.nav-links {
    display: flex;
    gap: 1.8rem;
    flex: 1;
    justify-content: center
}

.nav-links a {
    font-size: .8rem;
    font-weight: 500;
    letter-spacing: .5px;
    color: var(--muted);
    text-transform: uppercase;
    transition: color .2s
}

.nav-links a:hover {
    color: var(--bark)
}

.nav-right {
    display: flex;
    align-items: center;
    gap: .6rem
}

.gam-hud {
    display: flex;
    align-items: center;
    gap: .5rem;
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: .3rem .7rem;
    cursor: pointer;
    transition: all .2s
}

.gam-hud:hover {
    border-color: var(--gold)
}

.gam-pts {
    font-size: .72rem;
    font-weight: 700;
    color: var(--gold)
}

.gam-bar-wrap {
    width: 44px;
    height: 5px;
    background: var(--bg3);
    border-radius: 3px;
    overflow: hidden
}

.gam-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--gold), var(--rose));
    border-radius: 3px;
    width: 0%;
    transition: width .5s
}

.gam-lvl {
    font-size: .68rem;
    font-weight: 700;
    color: var(--muted)
}

.nav-icon-btn {
    background: none;
    border: 1.5px solid var(--border);
    border-radius: 20px;
    padding: .32rem .75rem;
    font-size: .8rem;
    color: var(--text);
    transition: all .2s;
    position: relative
}

.nav-icon-btn:hover {
    border-color: var(--bark);
    color: var(--bark)
}

/* ── Nav Login Button ── */
.nav-login-btn {
    display: inline-flex;
    align-items: center;
    background: linear-gradient(135deg, var(--bark), var(--rose));
    color: #fff !important;
    border-radius: 20px;
    padding: .32rem 1rem;
    font-size: .78rem;
    font-weight: 600;
    letter-spacing: .3px;
    text-transform: uppercase;
    transition: all .22s;
    white-space: nowrap;
    box-shadow: 0 2px 10px rgba(192, 57, 43, .2);
}

.nav-login-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 5px 18px rgba(192, 57, 43, .35);
    opacity: .92;
}

.mobile-login-link {
    color: var(--rose) !important;
    font-weight: 600 !important;
}

/* ── Nav User Pill (logged in state) ── */
.nav-user-pill {
    display: inline-flex;
    align-items: center;
    gap: .4rem;
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 20px;
    padding: .28rem .7rem;
    font-size: .78rem;
}

.nav-user-name {
    font-weight: 600;
    color: var(--bark);
    max-width: 90px;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

.nav-user-logout {
    background: none;
    border: none;
    font-size: .85rem;
    color: var(--muted);
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color .2s;
}

.nav-user-logout:hover {
    color: var(--rose);
}

.address-box {
    padding: 0 1.5rem 1rem;
    border-top: 1px solid var(--border);
    margin-top: auto;
    /* Push to bottom if flex container allows, mostly ensuring separation */
    background: var(--bg);
}

.addr-lbl {
    font-size: .75rem;
    font-weight: 700;
    color: var(--muted);
    text-transform: uppercase;
    margin: 1rem 0 .5rem;
    letter-spacing: .5px;
}

#cartAddress {
    width: 100%;
    height: 80px;
    padding: .8rem;
    border: 1px solid var(--border);
    border-radius: 12px;
    background: var(--bg2);
    color: var(--text);
    font-family: 'Jost', sans-serif;
    font-size: .85rem;
    resize: none;
    outline: none;
    transition: border-color .2s;
}

#cartAddress:focus {
    border-color: var(--rose);
}

.addr-err {
    font-size: .75rem;
    color: var(--rose);
    margin-top: .4rem;
    font-weight: 600;
}

.badge {
    background: var(--rose);
    color: #fff;
    border-radius: 10px;
    padding: .05rem .35rem;
    font-size: .62rem;
    font-weight: 700;
    margin-left: .2rem
}

.theme-btn {
    font-size: 1rem;
    border: none;
    background: none;
    padding: .3rem
}

.hamburger {
    display: none;
    flex-direction: column;
    gap: 4px;
    background: none;
    border: none;
    padding: .4rem
}

.hamburger span {
    display: block;
    width: 20px;
    height: 2px;
    background: var(--bark);
    border-radius: 2px;
    transition: .2s
}

@media(max-width:768px) {

    .nav-links,
    .gam-hud {
        display: none
    }

    .hamburger {
        display: flex
    }
}

/* ── MOBILE MENU ── */
.mobile-menu {
    position: fixed;
    top: 57px;
    left: 0;
    right: 0;
    background: var(--bg);
    border-bottom: 1px solid var(--border);
    z-index: 4999;
    transform: translateY(-110%);
    transition: transform .3s;
    display: flex;
    flex-direction: column
}

.mobile-menu.open {
    transform: translateY(0)
}

.mobile-menu a {
    padding: .9rem 1.5rem;
    border-bottom: 1px solid var(--border);
    font-size: .85rem;
    font-weight: 500;
    color: var(--text);
    transition: background .2s
}

.mobile-menu a:hover {
    background: var(--bg2)
}

/* ── OVERLAY (shared) ── */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.75);
    z-index: 6000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity .3s;
    backdrop-filter: blur(6px)
}

.overlay.open {
    opacity: 1;
    pointer-events: all
}

/* ── X BUTTONS ── */
.x-btn {
    background: none;
    border: 1px solid var(--border);
    border-radius: 8px;
    width: 32px;
    height: 32px;
    font-size: .9rem;
    cursor: pointer;
    color: var(--muted);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all .2s
}

.x-btn:hover {
    background: var(--bg2);
    color: var(--dark)
}

.x-btn.light {
    border-color: rgba(255, 255, 255, .3);
    color: #fff
}

.x-btn.light:hover {
    background: rgba(255, 255, 255, .1)
}

.x-abs {
    position: absolute;
    top: 12px;
    right: 12px;
    background: rgba(255, 255, 255, .85);
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    font-size: .85rem;
    color: var(--bark);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3;
    transition: background .2s
}

.x-abs:hover {
    background: #fff
}

[data-theme="dark"] .x-abs {
    background: rgba(40, 40, 40, 0.85);
    color: var(--text)
}

/* ── GAMIFICATION PANEL ── */
.gam-panel {
    background: var(--card-bg);
    border-radius: 24px;
    width: 100%;
    max-width: 480px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 24px 80px rgba(0, 0, 0, .2);
    border: 1px solid var(--border)
}

.gam-panel-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.4rem 1.6rem;
    border-bottom: 1px solid var(--border)
}

.gam-panel-head h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.25rem;
    color: var(--dark)
}

.gam-panel-body {
    padding: 1.4rem 1.6rem;
    display: flex;
    flex-direction: column;
    gap: 1.4rem
}

.score-card {
    background: linear-gradient(135deg, var(--bark), var(--rose));
    border-radius: 18px;
    padding: 1.6rem;
    text-align: center;
    color: #fff
}

.sc-pts {
    font-family: 'Playfair Display', serif;
    font-size: 3rem;
    font-weight: 700;
    line-height: 1
}

.sc-sub {
    font-size: .75rem;
    opacity: .8;
    margin: .2rem 0 .5rem;
    letter-spacing: 1px;
    text-transform: uppercase
}

.sc-lvl {
    font-size: .85rem;
    font-weight: 600;
    margin-bottom: .8rem
}

.sc-bar-wrap {
    background: rgba(255, 255, 255, .2);
    border-radius: 6px;
    height: 8px;
    overflow: hidden;
    margin: 0 auto;
    max-width: 260px
}

.sc-bar {
    height: 100%;
    background: #fff;
    border-radius: 6px;
    transition: width .6s
}

.sc-note {
    font-size: .72rem;
    opacity: .7;
    margin-top: .4rem
}

.ach-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: .7rem
}

.ach-item {
    background: var(--bg2);
    border-radius: 14px;
    padding: .8rem .5rem;
    text-align: center;
    border: 1.5px solid var(--border);
    transition: all .3s
}

.ach-item.unlocked {
    border-color: var(--gold);
    background: linear-gradient(135deg, rgba(181, 136, 58, .12), rgba(192, 57, 43, .08))
}

.ach-item .ai-ico {
    font-size: 1.5rem;
    margin-bottom: .3rem
}

.ach-item .ai-name {
    font-size: .62rem;
    font-weight: 600;
    color: var(--dark);
    line-height: 1.2
}

.ach-item .ai-desc {
    font-size: .58rem;
    color: var(--muted);
    margin-top: .15rem
}

.ach-item.locked .ai-ico,
.ach-item.locked .ai-name {
    opacity: .4
}

.perks-box {
    background: var(--bg2);
    border-radius: 14px;
    padding: 1rem 1.1rem
}

.perks-head {
    font-size: .78rem;
    font-weight: 700;
    color: var(--bark);
    text-transform: uppercase;
    letter-spacing: .5px;
    margin-bottom: .6rem
}

.perk {
    font-size: .78rem;
    color: var(--muted);
    padding: .2rem 0;
    border-bottom: 1px solid var(--border)
}

.perk:last-child {
    border-bottom: none
}

/* ── HERO ── */
.hero {
    min-height: 100vh;
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: center;
    padding: 7rem 3rem 4rem;
    max-width: 1280px;
    margin: 0 auto;
    gap: 3rem
}

@media(max-width:900px) {
    .hero {
        grid-template-columns: 1fr;
        padding: 6rem 1.5rem 3rem;
        text-align: center
    }
}

.hero-eyebrow {
    font-family: 'Crimson Pro', serif;
    font-style: italic;
    font-size: .82rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--rose);
    margin-bottom: 1rem
}

.hero h1 {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(3rem, 6vw, 5.5rem);
    font-weight: 300;
    line-height: 1.05;
    color: var(--dark);
    margin-bottom: 1.2rem;
    transition: color var(--tr)
}

.hero h1 em {
    font-style: italic;
    color: var(--rose)
}

.hero-sub {
    font-family: 'Crimson Pro', serif;
    font-size: 1.08rem;
    color: var(--muted);
    line-height: 1.7;
    max-width: 440px;
    margin-bottom: 2rem
}

@media(max-width:900px) {
    .hero-sub {
        margin: 0 auto 2rem
    }
}

.hero-ctas {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 2.5rem
}

@media(max-width:900px) {
    .hero-ctas {
        justify-content: center
    }
}

.btn-primary {
    background: var(--bark);
    color: var(--cream);
    border: none;
    border-radius: 30px;
    padding: .85rem 2.2rem;
    font-family: 'Jost', sans-serif;
    font-size: .82rem;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    transition: all .25s;
    cursor: pointer
}

.btn-primary:hover {
    background: var(--rose);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(192, 57, 43, .3)
}

.btn-outline {
    background: transparent;
    color: var(--bark);
    border: 1.5px solid var(--bark);
    border-radius: 30px;
    padding: .83rem 2rem;
    font-family: 'Jost', sans-serif;
    font-size: .82rem;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    transition: all .25s;
    cursor: pointer
}

.btn-outline:hover {
    background: var(--bark);
    color: var(--cream);
    transform: translateY(-2px)
}

.hero-stats {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    flex-wrap: wrap
}

@media(max-width:900px) {
    .hero-stats {
        justify-content: center
    }
}

.stat {
    display: flex;
    flex-direction: column
}

.stat strong {
    font-family: 'Playfair Display', serif;
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--bark)
}

.stat span {
    font-size: .72rem;
    color: var(--muted);
    letter-spacing: .5px;
    text-transform: uppercase
}

.stat-div {
    width: 1px;
    height: 28px;
    background: var(--border)
}

.hero-visual {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative
}

@media(max-width:900px) {
    .hero-visual {
        display: none
    }
}

.hero-glow {
    position: absolute;
    width: 340px;
    height: 340px;
    background: radial-gradient(circle, rgba(192, 57, 43, .18), transparent 70%);
    border-radius: 50%;
    pointer-events: none
}

.hero-svg {
    width: 280px;
    height: auto;
    filter: drop-shadow(0 20px 48px rgba(107, 61, 46, .22));
    animation: float 4s ease-in-out infinite
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0)
    }

    50% {
        transform: translateY(-14px)
    }
}

/* ── MARQUEE ── */
.marquee-strip {
    background: var(--bark);
    color: var(--cream);
    overflow: hidden;
    padding: .6rem 0;
    white-space: nowrap
}

.marquee-track {
    display: inline-flex;
    gap: 1.8rem;
    animation: marquee 30s linear infinite;
    font-size: .75rem;
    font-weight: 500;
    letter-spacing: .5px;
    text-transform: uppercase
}

.marquee-track span {
    flex-shrink: 0
}

.mx {
    color: var(--rose);
    font-weight: 700
}

@keyframes marquee {
    from {
        transform: translateX(0)
    }

    to {
        transform: translateX(-50%)
    }
}

/* ── SECTION DIVIDER ── */
.section-divider {
    text-align: center;
    padding: .7rem;
    font-size: .68rem;
    font-weight: 600;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--muted);
    background: var(--bg2);
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border)
}

.section-divider.dark {
    background: var(--bark);
    color: rgba(253, 247, 240, .7);
    border: none
}

/* ── SECTION HEADERS ── */
.sec-header {
    text-align: center;
    padding: 3rem 1.5rem 2rem
}

.sec-header h2 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.8rem, 4vw, 2.8rem);
    font-weight: 700;
    color: var(--dark);
    margin-bottom: .6rem;
    transition: color var(--tr)
}

.sec-header h2 em {
    font-style: italic;
    color: var(--rose);
    font-weight: 400
}

.sec-header p {
    font-family: 'Crimson Pro', serif;
    color: var(--muted);
    font-size: 1rem;
    max-width: 440px;
    margin: 0 auto
}

.eyebrow {
    font-family: 'Crimson Pro', serif;
    font-style: italic;
    font-size: .78rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--rose);
    margin-bottom: .6rem
}

/* ── SHOP ── */
#shop {
    padding: 0 0 5rem;
    background: var(--bg);
    transition: background var(--tr)
}

.shop-controls {
    display: flex;
    gap: .8rem;
    align-items: center;
    flex-wrap: wrap;
    max-width: 1220px;
    margin: 0 auto 2rem;
    padding: 0 1.5rem
}

.search-wrap {
    position: relative;
    flex: 0 0 260px
}

.search-wrap input {
    width: 100%;
    box-sizing: border-box;
    background: var(--bg3);
    border: 1.5px solid var(--border);
    border-radius: 30px;
    padding: .6rem 1rem .6rem 2.4rem;
    font-family: 'Jost', sans-serif;
    font-size: .82rem;
    color: var(--text);
    outline: none;
    transition: border-color .2s, background var(--tr)
}

.search-wrap input:focus {
    border-color: var(--rose)
}

.search-wrap input::placeholder {
    color: var(--muted)
}

.s-ico {
    position: absolute;
    left: .9rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: .85rem;
    pointer-events: none;
    opacity: .5;
    line-height: 1
}

.filter-row {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
    flex: 1
}

.f-btn {
    background: var(--bg3);
    border: 1.5px solid var(--border);
    color: var(--muted);
    border-radius: 20px;
    padding: .4rem 1rem;
    cursor: pointer;
    font-family: 'Jost', sans-serif;
    font-size: .75rem;
    font-weight: 500;
    transition: all .2s;
    white-space: nowrap
}

.f-btn:hover {
    border-color: var(--rose);
    color: var(--rose)
}

.f-btn.active {
    background: var(--bark);
    border-color: var(--bark);
    color: var(--cream)
}

.r-count {
    font-size: .75rem;
    color: var(--muted);
    white-space: nowrap
}

/* ── CAKE GRID ── */
.cake-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    max-width: 1220px;
    margin: 0 auto;
    padding: 0 1.5rem
}

@media(max-width:960px) {
    .cake-grid {
        grid-template-columns: repeat(2, 1fr)
    }
}

@media(max-width:560px) {
    .cake-grid {
        grid-template-columns: 1fr
    }
}

/* ── CAKE CARD ── */
.cake-card {
    background: var(--card-bg);
    border-radius: 22px;
    overflow: hidden;
    box-shadow: 0 2px 20px var(--card-shadow);
    border: 1px solid var(--border);
    transition: transform .3s, box-shadow .3s, background var(--tr);
    position: relative;
    animation: fadeUp .5s ease both
}

@keyframes fadeUp {
    from {
        opacity: 0;
        transform: translateY(24px)
    }

    to {
        opacity: 1;
        transform: translateY(0)
    }
}

.cake-card:hover {
    transform: translateY(-8px) scale(1.01);
    box-shadow: 0 20px 52px var(--card-shadow)
}

.cake-card.hidden {
    display: none
}

.cake-badge {
    position: absolute;
    top: 12px;
    left: 12px;
    background: var(--gold);
    color: #fff;
    font-size: .6rem;
    font-weight: 700;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    padding: .22rem .7rem;
    border-radius: 20px;
    z-index: 2;
    font-family: 'Jost', sans-serif
}

.heart-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    background: rgba(255, 255, 255, .88);
    border: none;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    z-index: 2;
    transition: transform .2s, background .2s;
    backdrop-filter: blur(4px)
}

.heart-btn:hover {
    transform: scale(1.18)
}

.heart-btn.liked {
    background: rgba(255, 80, 80, .15);
    color: var(--rose)
}

[data-theme="dark"] .heart-btn {
    background: rgba(30, 17, 8, .88)
}

/* Cake image area — clean, no candles */
.cake-img-wrap {
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    cursor: pointer;
    overflow: hidden;
    transition: background .3s
}

.cake-emoji {
    font-size: 5.5rem;
    display: block;
    transition: transform .4s cubic-bezier(.4, 0, .2, 1);
    filter: drop-shadow(0 10px 24px rgba(107, 61, 46, .22));
    line-height: 1;
    user-select: none
}

.cake-card:hover .cake-emoji {
    transform: scale(1.12) rotate(-3deg)
}

.qv-hint {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(107, 61, 46, .8);
    color: #fff;
    text-align: center;
    font-size: .7rem;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    padding: .45rem;
    transform: translateY(100%);
    transition: transform .25s;
    backdrop-filter: blur(4px)
}

.cake-img-wrap:hover .qv-hint {
    transform: translateY(0)
}

/* Cake body */
.cake-body {
    padding: 1.3rem 1.4rem 1.4rem
}

.cake-name {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--dark);
    margin-bottom: .3rem;
    transition: color var(--tr)
}

.cake-desc {
    font-family: 'Crimson Pro', serif;
    font-size: .88rem;
    color: var(--muted);
    line-height: 1.5;
    margin-bottom: .9rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden
}

.cake-rating {
    display: flex;
    align-items: center;
    gap: .4rem;
    margin-bottom: .9rem
}

.cake-rating .stars {
    color: var(--gold);
    font-size: .8rem
}

.cake-rating small {
    color: var(--muted);
    font-size: .72rem
}

.cake-footer {
    display: flex;
    align-items: center;
    justify-content: space-between
}

.cake-price {
    font-family: 'Playfair Display', serif;
    font-size: 1.35rem;
    font-weight: 700;
    color: var(--bark);
    transition: color var(--tr)
}

.add-btn {
    background: var(--bg);
    border: 1.5px solid var(--blush);
    color: var(--bark);
    padding: .46rem 1.1rem;
    border-radius: 30px;
    cursor: pointer;
    font-family: 'Jost', sans-serif;
    font-size: .75rem;
    font-weight: 600;
    transition: all .2s;
    white-space: nowrap
}

.add-btn:hover {
    background: var(--bark);
    color: var(--cream);
    border-color: var(--bark)
}

.add-btn.added {
    background: var(--green);
    color: #fff;
    border-color: var(--green)
}

/* ── FEATURES STRIP ── */
.features-strip {
    background: var(--bg2);
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
    padding: 2rem 1.5rem;
    transition: background var(--tr)
}

.feat-inner {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
    max-width: 1100px;
    margin: 0 auto
}

@media(max-width:768px) {
    .feat-inner {
        grid-template-columns: repeat(2, 1fr)
    }
}

.feat-item {
    display: flex;
    align-items: center;
    gap: .8rem
}

.feat-ico {
    font-size: 1.8rem;
    flex-shrink: 0
}

.feat-item strong {
    display: block;
    font-size: .85rem;
    font-weight: 600;
    color: var(--dark);
    margin-bottom: .1rem;
    transition: color var(--tr)
}

.feat-item span {
    display: block;
    font-size: .75rem;
    color: var(--muted)
}

/* ── BUILDER PROMO ── */
.builder-promo {
    background: linear-gradient(135deg, var(--bark), var(--rose));
    padding: 5rem 1.5rem;
    text-align: center
}

.promo-box {
    max-width: 660px;
    margin: 0 auto;
    color: #fff;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center
}

.builder-promo h2 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 700;
    margin-bottom: .8rem
}

.builder-promo h2 em {
    font-style: italic;
    font-weight: 400;
    opacity: .9
}

.builder-promo p {
    font-family: 'Crimson Pro', serif;
    font-size: 1.05rem;
    opacity: .88;
    line-height: 1.6;
    margin-bottom: 1.8rem
}

.promo-tags {
    display: flex;
    flex-wrap: wrap;
    gap: .6rem;
    justify-content: center;
    margin-bottom: 2rem
}

.promo-tags span {
    background: rgba(255, 255, 255, .15);
    border: 1px solid rgba(255, 255, 255, .3);
    border-radius: 20px;
    padding: .28rem .85rem;
    font-size: .75rem;
    font-weight: 500;
    letter-spacing: .3px
}

.open-builder-btn {
    background: #fff;
    color: var(--bark);
    border: none;
    border-radius: 30px;
    padding: .95rem 2.5rem;
    font-family: 'Jost', sans-serif;
    font-size: .88rem;
    font-weight: 700;
    letter-spacing: .5px;
    cursor: pointer;
    transition: all .25s;
    box-shadow: 0 6px 24px rgba(0, 0, 0, .2)
}

.open-builder-btn:hover {
    background: var(--cream);
    transform: translateY(-3px);
    box-shadow: 0 12px 36px rgba(0, 0, 0, .25)
}

/* ── ABOUT ── */
.about-section {
    padding: 5rem 2rem;
    background: var(--bg);
    transition: background var(--tr)
}

.about-inner {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    max-width: 1100px;
    margin: 0 auto;
    align-items: center
}

@media(max-width:860px) {
    .about-inner {
        grid-template-columns: 1fr
    }
}

.about-text h2 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.8rem, 3.5vw, 2.8rem);
    font-weight: 700;
    color: var(--dark);
    line-height: 1.15;
    margin-bottom: 1.2rem;
    transition: color var(--tr)
}

.about-text h2 em {
    font-style: italic;
    color: var(--rose);
    font-weight: 400
}

.about-text p {
    font-family: 'Crimson Pro', serif;
    font-size: .98rem;
    color: var(--muted);
    line-height: 1.7;
    margin-bottom: 1rem
}

.about-vals {
    display: flex;
    flex-direction: column;
    gap: .8rem;
    margin-top: 1.5rem
}

.av {
    display: flex;
    align-items: center;
    gap: .8rem
}

.av-ico {
    font-size: 1.3rem;
    flex-shrink: 0
}

.av strong {
    display: block;
    font-size: .85rem;
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.av span {
    display: block;
    font-size: .78rem;
    color: var(--muted)
}

.about-card {
    background: linear-gradient(135deg, var(--bg2), var(--bg3));
    border-radius: 22px;
    padding: 2rem;
    text-align: center;
    border: 1px solid var(--border);
    margin-bottom: 1.2rem
}

.ac-emo {
    font-size: 3.5rem;
    margin-bottom: .6rem
}

.ac-loc {
    font-family: 'Crimson Pro', serif;
    font-size: .82rem;
    color: var(--muted);
    font-style: italic;
    margin-bottom: 1.2rem
}

.ac-stats {
    display: flex;
    gap: 1rem;
    justify-content: center
}

.ac-s {
    display: flex;
    flex-direction: column;
    align-items: center
}

.ac-s strong {
    font-family: 'Playfair Display', serif;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--bark)
}

.ac-s span {
    font-size: .68rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: .5px
}

.about-quote {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.1rem;
    font-style: italic;
    color: var(--muted);
    border-left: 3px solid var(--rose);
    padding-left: 1rem;
    line-height: 1.5
}

.about-quote cite {
    display: block;
    font-size: .8rem;
    font-style: normal;
    margin-top: .4rem;
    color: var(--bark)
}

/* ── TESTIMONIALS ── */
.testi-section {
    padding: 4rem 1.5rem;
    background: var(--bg2);
    transition: background var(--tr)
}

.testi-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    max-width: 1100px;
    margin: 0 auto
}

@media(max-width:860px) {
    .testi-grid {
        grid-template-columns: 1fr
    }
}

.testi-card {
    background: var(--card-bg);
    border-radius: 20px;
    padding: 1.8rem;
    border: 1px solid var(--border);
    box-shadow: 0 2px 16px var(--card-shadow);
    transition: background var(--tr)
}

.testi-stars {
    color: var(--gold);
    font-size: 1rem;
    margin-bottom: .8rem;
    letter-spacing: 2px
}

.testi-card p {
    font-family: 'Crimson Pro', serif;
    font-size: .95rem;
    color: var(--muted);
    line-height: 1.6;
    margin-bottom: 1rem;
    font-style: italic
}

.testi-author {
    font-size: .78rem;
    font-weight: 600;
    color: var(--bark)
}

/* ── CONTACT ── */
.contact-section {
    padding: 5rem 1.5rem;
    background: var(--bg);
    transition: background var(--tr)
}

.contact-inner {
    max-width: 1100px;
    margin: 0 auto;
    text-align: center
}

.contact-h2 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.8rem, 3.5vw, 2.8rem);
    font-weight: 700;
    color: var(--dark);
    margin-bottom: .6rem;
    transition: color var(--tr)
}

.contact-h2 em {
    font-style: italic;
    color: var(--rose);
    font-weight: 400
}

.contact-sub {
    font-family: 'Crimson Pro', serif;
    color: var(--muted);
    margin-bottom: 2.5rem
}

.contact-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.2rem;
    text-align: left
}

@media(max-width:900px) {
    .contact-grid {
        grid-template-columns: repeat(2, 1fr)
    }
}

@media(max-width:560px) {
    .contact-grid {
        grid-template-columns: 1fr
    }
}

.c-card {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: 1.4rem;
    display: flex;
    flex-direction: column;
    gap: .3rem;
    transition: transform .2s, box-shadow .2s, background var(--tr);
    cursor: pointer
}

.c-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 36px var(--card-shadow)
}

.c-ico {
    font-size: 1.6rem;
    margin-bottom: .2rem
}

.c-lbl {
    font-size: .68rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--muted)
}

.c-val {
    font-size: .9rem;
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.c-note {
    font-size: .75rem;
    color: var(--muted)
}

.c-form-card {
    gap: .6rem
}

.cf-in {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: .55rem .8rem;
    font-family: 'Jost', sans-serif;
    font-size: .8rem;
    color: var(--text);
    outline: none;
    transition: border-color .2s, background var(--tr);
    width: 100%
}

.cf-in:focus {
    border-color: var(--rose)
}

.cf-send {
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 10px;
    padding: .6rem;
    font-family: 'Jost', sans-serif;
    font-size: .8rem;
    font-weight: 600;
    cursor: pointer;
    transition: background .2s;
    width: 100%
}

.cf-send:hover {
    background: var(--rose)
}

[data-theme="dark"] .order-toast {
    background: #1E1E1E;
    color: var(--text);
    box-shadow: 0 8px 32px rgba(0, 0, 0, .6);
    border: 1px solid var(--border);
}

.cf-ok {
    font-size: .78rem;
    color: var(--green);
    font-weight: 600;
    text-align: center
}

/* ── FOOTER ── */
footer {
    background: #0d0d0d;
    color: var(--muted);
    padding: 2.5rem 1.5rem;
    transition: background var(--tr)
}

.footer-in {
    max-width: 1100px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.2rem;
    text-align: center
}

.foot-logo {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--cream)
}

.foot-logo em {
    font-style: italic;
    color: var(--rose)
}

.foot-links {
    display: flex;
    gap: 1.5rem;
    flex-wrap: wrap;
    justify-content: center
}

.foot-links a {
    font-size: .78rem;
    color: rgba(253, 247, 240, .6);
    transition: color .2s
}

.foot-links a:hover {
    color: var(--cream)
}

.foot-copy {
    font-size: .72rem;
    color: rgba(253, 247, 240, .45)
}

/* ── QUICK VIEW ── */
.qv-modal {
    background: var(--bg);
    border-radius: 24px;
    width: 100%;
    max-width: 680px;
    overflow: hidden;
    display: grid;
    grid-template-columns: 1fr 1fr;
    box-shadow: 0 30px 80px rgba(0, 0, 0, .3);
    border: 1px solid var(--border);
    transform: scale(.95) translateY(20px);
    transition: transform .3s
}

.overlay.open .qv-modal {
    transform: scale(1) translateY(0)
}

@media(max-width:560px) {
    .qv-modal {
        grid-template-columns: 1fr
    }
}

.qv-img {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 6.5rem;
    min-height: 220px;
    position: relative;
    transition: background .3s
}

.qv-body {
    padding: 2rem 1.8rem;
    display: flex;
    flex-direction: column;
    gap: .9rem
}

.qv-name {
    font-family: 'Playfair Display', serif;
    font-size: 1.7rem;
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.qv-desc {
    font-family: 'Crimson Pro', serif;
    font-size: .9rem;
    color: var(--muted);
    line-height: 1.6
}

.qv-tags {
    display: flex;
    flex-wrap: wrap;
    gap: .35rem
}

.qv-tag {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: .18rem .65rem;
    font-size: .68rem;
    color: var(--muted)
}

.qv-rating {
    display: flex;
    align-items: center;
    gap: .3rem;
    font-size: .82rem;
    color: var(--gold)
}

.qv-rating small {
    color: var(--muted);
    font-size: .72rem
}

.qv-bottom {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: auto;
    padding-top: .9rem;
    border-top: 1px solid var(--border)
}

.qv-price {
    font-family: 'Playfair Display', serif;
    font-size: 1.9rem;
    font-weight: 700;
    color: var(--bark)
}

.qv-add {
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 30px;
    padding: .72rem 1.5rem;
    font-family: 'Jost', sans-serif;
    font-size: .78rem;
    font-weight: 600;
    letter-spacing: .5px;
    cursor: pointer;
    transition: background .2s, transform .15s
}

.qv-add:hover {
    background: var(--rose);
    transform: translateY(-1px)
}

/* ── DRAWERS ── */
.drw-overlay {
    position: fixed;
    inset: 0;
    background: rgba(26, 16, 10, .5);
    z-index: 5500;
    opacity: 0;
    pointer-events: none;
    transition: opacity .3s
}

.drw-overlay.open {
    opacity: 1;
    pointer-events: all
}

.drawer {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: min(380px, 100vw);
    background: var(--bg);
    z-index: 5501;
    transform: translateX(100%);
    transition: transform .35s cubic-bezier(.4, 0, .2, 1), background var(--tr);
    display: flex;
    flex-direction: column;
    box-shadow: -10px 0 60px rgba(0, 0, 0, .15);
    border-left: 1px solid var(--border)
}

.drawer.open {
    transform: translateX(0)
}

.drw-head {
    padding: 1.3rem 1.5rem;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between
}

.drw-head h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.3rem;
    color: var(--dark);
    transition: color var(--tr)
}

.drw-body {
    flex: 1;
    overflow-y: auto;
    padding: 1rem 1.2rem;
    display: flex;
    flex-direction: column;
    gap: .75rem
}

/* Wishlist items */
.wish-empty,
.cart-empty {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--muted);
    font-style: italic;
    text-align: center;
    font-family: 'Crimson Pro', serif;
    font-size: .95rem
}

.wish-item {
    display: flex;
    gap: .8rem;
    align-items: center;
    background: var(--card-bg);
    border-radius: 14px;
    padding: .75rem;
    box-shadow: 0 2px 10px var(--card-shadow);
    border: 1px solid var(--border)
}

.wi-ico {
    font-size: 1.8rem;
    flex-shrink: 0
}

.wi-info {
    flex: 1;
    min-width: 0
}

.wi-info strong {
    font-family: 'Playfair Display', serif;
    font-size: .9rem;
    color: var(--dark);
    display: block;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    transition: color var(--tr)
}

.wi-info span {
    font-size: .7rem;
    color: var(--muted)
}

.wi-right {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: .3rem;
    flex-shrink: 0
}

.wi-price {
    font-family: 'Playfair Display', serif;
    font-size: .95rem;
    font-weight: 700;
    color: var(--bark)
}

.wi-add {
    background: none;
    border: 1px solid var(--blush);
    color: var(--bark);
    border-radius: 16px;
    padding: .25rem .6rem;
    cursor: pointer;
    font-size: .68rem;
    font-weight: 600;
    transition: all .2s;
    white-space: nowrap
}

.wi-add:hover {
    background: var(--bark);
    color: #fff;
    border-color: var(--bark)
}

.wi-rem {
    background: none;
    border: none;
    color: var(--muted);
    cursor: pointer;
    font-size: .8rem;
    transition: color .2s;
    padding: 0
}

.wi-rem:hover {
    color: var(--rose)
}

/* Cart items */
.cart-item {
    display: flex;
    gap: .8rem;
    align-items: center;
    background: var(--card-bg);
    border-radius: 14px;
    padding: .75rem;
    box-shadow: 0 2px 10px var(--card-shadow);
    border: 1px solid var(--border)
}

.ci-ico {
    font-size: 1.6rem;
    flex-shrink: 0
}

.ci-info {
    flex: 1;
    min-width: 0
}

.ci-name {
    font-family: 'Playfair Display', serif;
    font-size: .88rem;
    font-weight: 600;
    color: var(--dark);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: block;
    transition: color var(--tr)
}

.ci-meta {
    font-size: .7rem;
    color: var(--muted)
}

.ci-right {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: .3rem
}

.ci-price {
    font-family: 'Playfair Display', serif;
    font-size: .95rem;
    font-weight: 700;
    color: var(--bark)
}

.ci-rem {
    background: none;
    border: none;
    color: var(--muted);
    cursor: pointer;
    font-size: .9rem;
    transition: color .2s
}

.ci-rem:hover {
    color: var(--rose)
}

.cart-foot {
    padding: 1rem 1.2rem;
    border-top: 1px solid var(--border);
    background: var(--bg)
}

.cart-total-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: .8rem;
    font-weight: 600;
    color: var(--dark)
}

.cart-total-row strong {
    font-family: 'Playfair Display', serif;
    font-size: 1.3rem;
    color: var(--bark)
}

.order-btn {
    width: 100%;
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 14px;
    padding: .85rem;
    font-family: 'Jost', sans-serif;
    font-size: .85rem;
    font-weight: 600;
    cursor: pointer;
    transition: all .2s
}

.order-btn:hover:not(:disabled) {
    background: var(--rose)
}

.order-btn:disabled {
    opacity: .45;
    cursor: default
}

/* ── ORDER TOAST ── */
.order-toast {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background: var(--dark);
    color: #fff;
    border-radius: 20px;
    padding: 1.5rem 1.8rem;
    z-index: 9999;
    opacity: 0;
    transform: translateY(30px);
    transition: all .4s;
    max-width: 300px;
    box-shadow: 0 16px 48px rgba(0, 0, 0, .3);
    pointer-events: none
}

.order-toast.show {
    opacity: 1;
    transform: translateY(0)
}

.ot-check {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--green);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: .8rem
}

.order-toast h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    margin-bottom: .3rem;
    color: #fff
}

.order-toast p {
    font-size: .8rem;
    opacity: .75;
    margin-bottom: .6rem
}

.ot-id {
    font-size: .78rem;
    background: rgba(255, 255, 255, .12);
    border-radius: 8px;
    padding: .4rem .7rem;
    font-weight: 600;
    letter-spacing: .5px
}

/* ── 3D BUILDER ── */
.bldr-overlay {
    align-items: stretch;
    padding: 0
}

.bldr-modal {
    width: 100%;
    max-width: 1080px;
    margin: auto;
    background: var(--bg2);
    border-radius: 24px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    max-height: 96vh;
    box-shadow: 0 32px 100px rgba(0, 0, 0, .35)
}

.bldr-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.5rem;
    background: var(--dark);
    color: #fff;
    flex-shrink: 0
}

.bldr-head h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.25rem;
    color: #fff
}

.bldr-head h3 em {
    font-style: italic;
    color: var(--rose)
}

.bldr-head-r {
    display: flex;
    gap: .6rem;
    align-items: center
}

.snap-btn {
    background: var(--rose);
    color: #fff;
    border: none;
    border-radius: 20px;
    padding: .45rem 1.1rem;
    font-family: 'Jost', sans-serif;
    font-size: .75rem;
    font-weight: 600;
    cursor: pointer;
    transition: all .2s
}

.snap-btn:hover {
    background: var(--bark);
    transform: translateY(-1px)
}

.bldr-body {
    display: grid;
    grid-template-columns: 1fr 360px;
    flex: 1;
    overflow: hidden;
    min-height: 0
}

@media(max-width:700px) {
    .bldr-body {
        grid-template-columns: 1fr;
        overflow-y: auto
    }
}

.canvas-wrap {
    position: relative;
    background: radial-gradient(ellipse at 50% 40%, #fdf0e8 0%, #f0d8c0 60%, #e0c0a0 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    height: 520px;
    overflow: hidden
}

[data-theme="dark"] .canvas-wrap {
    background: radial-gradient(ellipse at 50% 40%, #2a1c10 0%, #1a100a 100%)
}

#cake3d-canvas {
    display: block;
    width: 100%;
    height: 520px;
    cursor: grab
}

#cake3d-canvas:active {
    cursor: grabbing
}

.snap-flash {
    position: absolute;
    inset: 0;
    background: #fff;
    opacity: 0;
    pointer-events: none;
    transition: opacity .1s
}

.canvas-hint {
    position: absolute;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    font-size: .68rem;
    color: rgba(107, 61, 46, .65);
    background: rgba(255, 255, 255, .55);
    padding: .25rem .8rem;
    border-radius: 20px;
    pointer-events: none;
    backdrop-filter: blur(4px)
}

.ctrl-panel {
    background: var(--card-bg);
    border-left: 1px solid var(--border);
    padding: 1.4rem;
    display: flex;
    flex-direction: column;
    gap: 1.1rem;
    overflow-y: auto;
    height: 520px;
    transition: background var(--tr)
}

.ctrl-grp {
    display: flex;
    flex-direction: column;
    gap: .55rem
}

.ctrl-lbl {
    font-size: .72rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--muted)
}

.layer-colour-btn {
    display: flex;
    align-items: center;
    gap: .7rem;
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 12px;
    padding: .55rem .8rem;
    cursor: pointer;
    transition: all .2s;
    font-size: .78rem;
    color: var(--text)
}

.layer-colour-btn:hover {
    border-color: var(--rose)
}

.layer-swatch {
    width: 22px;
    height: 22px;
    border-radius: 6px;
    flex-shrink: 0;
    border: 2px solid rgba(255, 255, 255, .5);
    box-shadow: 0 2px 8px rgba(0, 0, 0, .15)
}

.layer-colour-input {
    opacity: 0;
    width: 0;
    height: 0;
    position: absolute
}

.tier-row {
    display: flex;
    gap: .5rem
}

.tier-btn {
    flex: 1;
    border: 1.5px solid var(--border);
    background: var(--bg2);
    border-radius: 10px;
    padding: .5rem;
    font-family: 'Jost', sans-serif;
    font-size: .8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all .2s;
    color: var(--text)
}

.tier-btn:hover {
    border-color: var(--rose)
}

.tier-btn.active {
    background: var(--bark);
    color: #fff;
    border-color: var(--bark)
}

.font-selector {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: .4rem
}

.font-btn {
    border: 1.5px solid var(--border);
    background: var(--bg2);
    border-radius: 8px;
    padding: .4rem .3rem;
    font-size: .72rem;
    cursor: pointer;
    transition: all .2s;
    color: var(--text);
    line-height: 1.2;
    text-align: center
}

.font-btn:hover {
    border-color: var(--rose)
}

.font-btn.active {
    background: var(--bark);
    color: #fff;
    border-color: var(--bark)
}

.insc-input {
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: .55rem .8rem;
    font-size: .82rem;
    color: var(--text);
    outline: none;
    transition: border-color .2s, background var(--tr);
    width: 100%;
    font-family: inherit
}

.insc-input:focus {
    border-color: var(--rose)
}

.instr-input {
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: .55rem .8rem;
    font-size: .8rem;
    color: var(--text);
    outline: none;
    transition: border-color .2s, background var(--tr);
    width: 100%;
    font-family: inherit;
    resize: none;
    line-height: 1.5
}

.instr-input:focus {
    border-color: var(--rose)
}

.instr-hint {
    font-size: .67rem;
    color: var(--muted);
    line-height: 1.4
}

.topping-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 12px;
    padding: .65rem .9rem;
    cursor: pointer;
    transition: border-color .2s
}

.topping-row:hover {
    border-color: var(--rose)
}

.top-name {
    font-size: .82rem;
    font-weight: 600;
    color: var(--dark);
    margin-right: .4rem;
    transition: color var(--tr)
}

.top-price {
    font-size: .72rem;
    color: var(--muted)
}

.tog-sw {
    width: 36px;
    height: 20px;
    background: var(--border);
    border-radius: 10px;
    position: relative;
    transition: background .3s;
    flex-shrink: 0
}

.tog-sw::after {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #fff;
    transition: transform .3s;
    box-shadow: 0 1px 4px rgba(0, 0, 0, .2)
}

.tog-sw.on {
    background: var(--green)
}

.tog-sw.on::after {
    transform: translateX(16px)
}

.price-box {
    background: var(--bg2);
    border-radius: 14px;
    padding: 1rem;
    border: 1px solid var(--border)
}

.price-lbl {
    font-size: .68rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: .2rem
}

.price-val {
    font-family: 'Playfair Display', serif;
    font-size: 1.7rem;
    font-weight: 700;
    color: var(--bark);
    transition: color var(--tr)
}

.price-break {
    font-size: .7rem;
    color: var(--muted);
    margin-top: .3rem;
    line-height: 1.6
}

.add-cart-btn {
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 12px;
    padding: .8rem;
    font-family: 'Jost', sans-serif;
    font-size: .82rem;
    font-weight: 600;
    cursor: pointer;
    transition: all .2s;
    width: 100%
}

.add-cart-btn:hover {
    background: var(--rose);
    transform: translateY(-1px)
}

.dl-btn {
    background: var(--bg2);
    border: 1.5px solid var(--border);
    color: var(--bark);
    border-radius: 12px;
    padding: .7rem;
    font-family: 'Jost', sans-serif;
    font-size: .78rem;
    font-weight: 600;
    cursor: pointer;
    transition: all .2s;
    width: 100%
}

.dl-btn:hover {
    background: var(--bg3);
    border-color: var(--bark)
}

/* ── BUILDER MODAL ── */
.builder-modal {
    background: var(--card-bg);
    border-radius: 20px;
    width: 95%;
    /* Increased width for split view */
    max-width: 900px;
    padding: 1.5rem;
    position: relative;
    box-shadow: 0 20px 60px rgba(0, 0, 0, .4);
    display: flex;
    flex-direction: column;
    gap: 1rem;
    max-height: 90vh;
    overflow-y: auto;
}

.builder-cols {
    display: flex;
    gap: 1.5rem;
    height: 500px;
}

.canvas-col {
    flex: 1.5;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    position: relative;
}

#cake3d-canvas {
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: radial-gradient(circle, var(--bg2) 0%, var(--bg) 100%);
    flex-grow: 1;
}

.chat-col {
    flex: 1;
    background: var(--bg2);
    border-radius: 16px;
    display: flex;
    flex-direction: column;
    border: 1px solid var(--border);
    overflow: hidden;
}

.chat-head {
    padding: 1rem;
    background: var(--bg3);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: .8rem;
}

.chat-avatar {
    font-size: 1.8rem;
    background: var(--card-bg);
    width: 42px;
    height: 42px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    border: 1px solid var(--border);
}

.chat-meta {
    display: flex;
    flex-direction: column;
    line-height: 1.2;
}

.chat-meta strong {
    color: var(--text);
    font-size: .95rem;
}

.chat-meta small {
    color: var(--rose);
    font-size: .75rem;
    font-weight: 600;
    text-transform: uppercase;
}

.chat-log {
    flex-grow: 1;
    padding: 1rem;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: .8rem;
    font-size: .9rem;
}

.chat-msg {
    padding: .8rem 1rem;
    border-radius: 12px;
    max-width: 85%;
    line-height: 1.4;
    animation: fadeIn .3s cubic-bezier(0.4, 0, 0.2, 1);
}

.chat-msg.bot {
    background: var(--bg3);
    color: var(--text);
    border-top-left-radius: 2px;
    align-self: flex-start;
    border: 1px solid var(--border);
}

.chat-msg.user {
    background: var(--rose);
    color: #fff;
    border-bottom-right-radius: 2px;
    align-self: flex-end;
    box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
}

.chat-input-area {
    padding: .8rem;
    background: var(--bg3);
    border-top: 1px solid var(--border);
    display: flex;
    gap: .6rem;
}

#chatInput {
    flex-grow: 1;
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: .6rem 1rem;
    color: var(--text);
    font-family: inherit;
    font-size: .9rem;
    outline: none;
}

#chatInput:focus {
    border-color: var(--rose);
}

.chat-send {
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 20px;
    padding: 0 1.2rem;
    font-weight: 600;
    cursor: pointer;
    transition: background .2s;
}

.chat-send:hover {
    background: var(--rose);
}

@media(max-width: 768px) {
    .builder-cols {
        flex-direction: column;
        height: auto;
    }

    .canvas-col {
        height: 300px;
    }

    .chat-col {
        height: 350px;
    }

    .builder-modal {
        width: 98%;
        padding: 1rem;
    }
}

.controls {
    display: none;
    /* Hidden by default, AI drives it now. Can toggle later if needed. */
}

/* ── AUTH ── */
.auth-modal {
    background: var(--card-bg);
    border-radius: 24px;
    width: 100%;
    max-width: 420px;
    padding: 2.2rem;
    position: relative;
    box-shadow: 0 30px 80px rgba(0, 0, 0, .25);
    border: 1px solid var(--border);
    transform: scale(.95) translateY(20px);
    transition: transform .3s
}

.overlay.open .auth-modal {
    transform: scale(1) translateY(0)
}

.auth-brand {
    display: flex;
    align-items: center;
    gap: .6rem;
    justify-content: center;
    margin-bottom: 1.5rem
}

.auth-ico {
    font-size: 1.8rem
}

.auth-name {
    font-family: 'Playfair Display', serif;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--dark)
}

.auth-name em {
    font-style: italic;
    color: var(--rose)
}

.auth-step h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.4rem;
    color: var(--dark);
    margin-bottom: .4rem;
    transition: color var(--tr)
}

.auth-step p {
    font-size: .82rem;
    color: var(--muted);
    margin-bottom: 1.2rem
}

.fgrp {
    display: flex;
    flex-direction: column;
    gap: .4rem;
    margin-bottom: 1.1rem
}

.fgrp label {
    font-size: .75rem;
    font-weight: 600;
    color: var(--muted);
    letter-spacing: .5px;
    text-transform: uppercase
}

.phone-row {
    display: flex;
    gap: .5rem
}

.phone-row select {
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: .55rem .6rem;
    font-family: 'Jost', sans-serif;
    font-size: .8rem;
    color: var(--text);
    outline: none;
    flex-shrink: 0;
    transition: background var(--tr)
}

.phone-row input,
.fgrp input {
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: .6rem .9rem;
    font-family: 'Jost', sans-serif;
    font-size: .85rem;
    color: var(--text);
    outline: none;
    flex: 1;
    transition: border-color .2s, background var(--tr)
}

.phone-row input:focus,
.fgrp input:focus {
    border-color: var(--rose)
}

.f-err {
    font-size: .74rem;
    color: var(--rose);
    min-height: .9rem
}

.auth-btn {
    width: 100%;
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 12px;
    padding: .85rem;
    font-family: 'Jost', sans-serif;
    font-size: .85rem;
    font-weight: 600;
    cursor: pointer;
    transition: background .2s;
    margin-bottom: .6rem
}

.auth-btn:hover {
    background: var(--rose)
}

.auth-btn.outline {
    background: transparent;
    border: 1.5px solid var(--border);
    color: var(--muted)
}

.auth-btn.outline:hover {
    border-color: var(--rose);
    color: var(--rose);
    background: transparent
}

.auth-note {
    font-size: .7rem;
    color: var(--muted);
    text-align: center
}


.otp-box:focus {
    border-color: var(--rose);
    background: var(--card-bg);
    box-shadow: 0 0 0 3px rgba(192, 57, 43, .12)
}

.otp-resend {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: .5rem;
    margin: .5rem 0;
    font-size: .74rem;
    color: var(--muted)
}

.resend-lnk {
    background: none;
    border: none;
    color: var(--rose);
    font-size: .74rem;
    cursor: pointer;
    font-weight: 600
}

.back-lnk {
    background: none;
    border: none;
    color: var(--muted);
    font-size: .74rem;
    cursor: pointer;
    display: block;
    text-align: center;
    width: 100%;
    transition: color .2s
}

.back-lnk:hover {
    color: var(--bark)
}

.auth-ok {
    width: 52px;
    height: 52px;
    border-radius: 50%;
    background: var(--green);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    font-weight: 700;
    color: #fff;
    margin: 0 auto 1rem
}

.auth-user-card {
    background: var(--bg2);
    border-radius: 12px;
    padding: 1rem;
    text-align: center;
    font-size: .85rem;
    color: var(--dark);
    margin-bottom: .8rem;
    transition: background var(--tr)
}

/* ── TRACKER ── */
.tracker-modal {
    background: var(--card-bg);
    border-radius: 24px;
    width: 100%;
    max-width: 520px;
    overflow: hidden;
    box-shadow: 0 30px 80px rgba(0, 0, 0, .25);
    border: 1px solid var(--border);
    transform: scale(.95) translateY(20px);
    transition: transform .3s
}

.overlay.open .tracker-modal {
    transform: scale(1) translateY(0)
}

.tracker-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.2rem 1.6rem;
    border-bottom: 1px solid var(--border);
    background: var(--dark)
}

.tracker-head h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    color: #fff
}

.tracker-head h3 em {
    font-style: italic;
    color: var(--rose)
}

.tracker-body {
    padding: 1.6rem;
    position: relative;
    /* Ensure specific positioning context for absolute children */
}

.t-gate {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .8rem;
    padding: 1rem 0
}

.tg-ico {
    font-size: 2.5rem
}

.t-gate p {
    font-size: .85rem;
    color: var(--muted);
    max-width: 280px
}

.t-sub {
    font-size: .82rem;
    color: var(--muted);
    margin-bottom: 1rem
}

.t-search {
    display: flex;
    gap: .6rem;
    margin-bottom: 1rem
}

.t-search input {
    flex: 1;
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 10px;
    padding: .6rem .9rem;
    font-size: .82rem;
    outline: none;
    color: var(--text);
    transition: border-color .2s, background var(--tr);
    font-family: 'Jost', sans-serif
}

.t-search input:focus {
    border-color: var(--rose)
}

.t-search button {
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 10px;
    padding: .6rem 1.2rem;
    font-family: 'Jost', sans-serif;
    font-size: .8rem;
    font-weight: 600;
    cursor: pointer;
    transition: background .2s
}

.t-search button:hover {
    background: var(--rose)
}

.wa-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--bg2);
    border-radius: 12px;
    padding: .7rem .9rem;
    margin-bottom: .9rem
}

.wa-lbl {
    font-size: .82rem;
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.wa-sub {
    font-size: .72rem;
    color: var(--muted)
}

.t-result {
    background: var(--bg2);
    border-radius: 16px;
    padding: 1.2rem;
    border: 1px solid var(--border)
}

.tr-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 1.2rem
}

.tr-id-lbl {
    font-size: .65rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: .2rem
}

.tr-id {
    font-family: 'Playfair Display', serif;
    font-size: 1rem;
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.tr-badge {
    font-size: .68rem;
    font-weight: 700;
    padding: .25rem .7rem;
    border-radius: 20px;
    background: var(--gold);
    color: #fff;
    letter-spacing: .5px;
    text-transform: uppercase
}

.track-steps {
    position: relative;
    height: 44px;
    margin-bottom: .8rem;
    border-radius: 10px;
    overflow: hidden
}

.track-step-item {
    position: absolute;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 2px;
    font-size: .58rem;
    font-weight: 600;
    color: #fff;
    letter-spacing: .3px;
    text-transform: uppercase;
    z-index: 1;
    transition: opacity .4s
}

.track-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--bark), var(--rose));
    border-radius: 10px;
    transition: width .8s cubic-bezier(.4, 0, .2, 1);
    z-index: 0
}

.tr-eta {
    font-size: .78rem;
    color: var(--muted);
    text-align: center
}

.wa-sent {
    font-size: .75rem;
    color: var(--green);
    font-weight: 600;
    text-align: center;
    margin-top: .5rem
}


/* ── LOGO ── */
.nav-logo {
    display: flex;
    align-items: center;
    text-decoration: none;
    flex-shrink: 0
}

.logo-svg {
    height: 36px;
    width: auto;
    display: block
}


/* ── PROMO CSS CAKE (no SVG gradient ID conflicts) ── */
.promo-cake-wrap {
    position: relative;
    width: 200px;
    margin: 0 auto 2.2rem;
    padding-top: 18px;
    animation: float 3.8s ease-in-out infinite;
    filter: drop-shadow(0 24px 48px rgba(0, 0, 0, 0.38))
}

.pcake-tier {
    position: relative;
    margin-bottom: -1px
}

.pcake-frost {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 15px;
    border-radius: 6px 6px 0 0
}

.pcake-text {
    position: absolute;
    bottom: 10px;
    left: 0;
    right: 0;
    text-align: center;
    font-family: 'Crimson Pro', Georgia, serif;
    font-style: italic;
    font-size: 11px;
    color: rgba(255, 255, 255, 0.9);
    letter-spacing: .5px
}

.pcake-cherry {
    position: absolute;
    top: -14px;
    left: 50%;
    transform: translateX(-50%)
}

.pcake-cherry-ball {
    width: 22px;
    height: 22px;
    background: radial-gradient(circle at 35% 35%, #e05050, #8b1a1a);
    border-radius: 50%;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3)
}

.pcake-cherry-stem {
    width: 2px;
    height: 14px;
    background: #3a6a1a;
    margin: 0 auto;
    transform: rotate(18deg) translateX(5px) translateY(-16px);
    border-radius: 2px
}

.pcake-dot {
    position: absolute;
    border-radius: 50%;
    animation: float 3.5s ease-in-out infinite;
    opacity: .75
}


/* ── OTP BOXES — small & clean ── */
.otp-row {
    display: flex;
    gap: .42rem;
    margin-bottom: .9rem;
    justify-content: center
}

.otp-box {
    width: 38px;
    height: 44px;
    text-align: center;
    font-size: 1.05rem;
    font-weight: 700;
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 9px;
    padding: 0;
    outline: none;
    color: var(--dark);
    font-family: 'Jost', sans-serif;
    transition: border-color .2s, background var(--tr), box-shadow .2s
}

.otp-box:focus {
    border-color: var(--rose);
    background: var(--card-bg);
    box-shadow: 0 0 0 3px rgba(192, 57, 43, .13)
}

/* ── RESPONSIVE ── */
@media(max-width:640px) {
    #navbar {
        padding: .7rem 1rem
    }

    .bldr-body {
        grid-template-columns: 1fr
    }

    .canvas-wrap,
    #cake3d-canvas {
        height: 300px
    }

    .ctrl-panel {
        height: auto
    }

    .contact-grid {
        grid-template-columns: 1fr
    }
}

/* ══════════════════════════════════════════
   SILKOVEN — ADDITIONS (clean, no duplicates)
   ══════════════════════════════════════════ */


/* ── LOGO ── */
.nav-logo {
    display: flex;
    align-items: center;
    text-decoration: none;
    flex-shrink: 0
}

.logo-svg {
    height: 36px;
    width: auto;
    display: block
}

/* ── TRACKER — BEAUTIFUL STEP PROGRESS ── */
.tracker-modal {
    background: var(--card-bg);
    border-radius: 24px;
    width: 100%;
    max-width: 540px;
    overflow: hidden;
    box-shadow: 0 30px 80px rgba(0, 0, 0, .28);
    border: 1px solid var(--border)
}

.tracker-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.2rem 1.6rem;
    background: var(--dark)
}

.tracker-head h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    color: #fff
}

.tracker-head h3 em {
    font-style: italic;
    color: var(--rose)
}

.tracker-body {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: .9rem
}

.t-gate {
    text-align: center;
    padding: 1.5rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .9rem
}

.tg-ico {
    font-size: 2.8rem
}

.t-gate p {
    font-size: .85rem;
    color: var(--muted);
    max-width: 280px;
    line-height: 1.5
}

.t-search {
    display: flex;
    gap: .6rem
}

.t-search input {
    flex: 1;
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 12px;
    padding: .65rem .9rem;
    font-size: .82rem;
    outline: none;
    color: var(--text);
    font-family: 'Jost', sans-serif;
    transition: border-color .2s, background var(--tr)
}

.t-search input:focus {
    border-color: var(--rose)
}

.t-search input::placeholder {
    color: var(--muted);
    font-size: .78rem
}

.t-search button {
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 12px;
    padding: .65rem 1.3rem;
    font-family: 'Jost', sans-serif;
    font-size: .8rem;
    font-weight: 600;
    cursor: pointer;
    transition: background .2s;
    white-space: nowrap
}

.t-search button:hover {
    background: var(--rose)
}

.wa-notify-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: linear-gradient(135deg, rgba(37, 211, 102, .1), rgba(37, 211, 102, .05));
    border: 1px solid rgba(37, 211, 102, .25);
    border-radius: 14px;
    padding: .8rem 1rem
}

.wan-left {
    display: flex;
    align-items: center;
    gap: .7rem
}

.wan-left>span {
    font-size: 1.4rem
}

.wan-title {
    font-size: .82rem;
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.wan-sub {
    font-size: .7rem;
    color: var(--muted)
}

.t-result {
    background: var(--bg2);
    border-radius: 18px;
    padding: 1.3rem;
    border: 1px solid var(--border);
    transition: background var(--tr), opacity .5s, transform .5s
}

.tr-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 1.4rem
}

.tr-id-caption {
    font-size: .62rem;
    font-weight: 700;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: .2rem
}

.tr-id-val {
    font-family: 'Playfair Display', serif;
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.tr-status-pill {
    background: linear-gradient(135deg, var(--bark), var(--rose));
    color: #fff;
    border-radius: 20px;
    padding: .28rem .85rem;
    font-size: .68rem;
    font-weight: 700;
    letter-spacing: .5px;
    text-transform: uppercase
}

.progress-track {
    position: relative;
    padding: 1.6rem 0 2.2rem;
    margin-bottom: .8rem
}

.progress-line-bg {
    position: absolute;
    top: 1.85rem;
    left: 12%;
    right: 12%;
    height: 4px;
    background: var(--border);
    border-radius: 2px
}

.progress-line-fill {
    position: absolute;
    top: 1.85rem;
    left: 12%;
    height: 4px;
    background: linear-gradient(90deg, var(--bark), var(--rose));
    border-radius: 2px;
    width: 0%;
    transition: width 1s cubic-bezier(.4, 0, .2, 1)
}

.steps-row {
    display: flex;
    justify-content: space-between;
    position: relative;
    z-index: 1
}

.step-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .4rem;
    flex: 1
}

.step-circle {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 2.5px solid var(--border);
    background: var(--card-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: .7rem;
    transition: all .4s;
    font-weight: 700;
    color: var(--muted);
    box-shadow: 0 2px 8px rgba(0, 0, 0, .06)
}

.step-circle.done {
    background: linear-gradient(135deg, var(--bark), var(--rose));
    border-color: var(--bark);
    color: #fff;
    box-shadow: 0 4px 16px rgba(192, 57, 43, .3)
}

.step-circle.active {
    background: var(--cream);
    border-color: var(--rose);
    color: var(--rose);
    box-shadow: 0 0 0 4px rgba(192, 57, 43, .15)
}

.step-label {
    font-size: .58rem;
    font-weight: 600;
    color: var(--muted);
    text-align: center;
    line-height: 1.2;
    max-width: 52px
}

.step-label.done {
    color: var(--bark)
}

.step-label.active {
    color: var(--rose);
    font-weight: 700
}

.tr-eta-box {
    display: flex;
    align-items: center;
    gap: .5rem;
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: .6rem .9rem;
    font-size: .8rem;
    color: var(--muted);
    transition: background var(--tr)
}

#tr-eta {
    font-weight: 600;
    color: var(--dark);
    transition: color var(--tr)
}

.wa-sent-bar {
    display: flex;
    align-items: center;
    gap: .4rem;
    font-size: .78rem;
    color: var(--green);
    font-weight: 600;
    background: rgba(46, 125, 50, .1);
    border-radius: 8px;
    padding: .5rem .8rem
}

/* ── ORDER FOUND POPUP ── */
.order-found-popup {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: center;
    gap: 1rem;
    background: linear-gradient(135deg, var(--bark), var(--rose));
    border-radius: 18px;
    padding: 1.2rem 1.4rem;
    color: #fff;
    box-shadow: 0 8px 32px rgba(192, 57, 43, .35);
    z-index: 10;
    width: 90%;
    max-width: 380px;
}

[data-theme="dark"] .order-found-popup {
    background: #1E1E1E;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
    border: 1px solid var(--border);
    color: var(--text);
}

.ofp-icon {
    font-size: 2rem;
    flex-shrink: 0;
    animation: popSpin .6s ease
}

@keyframes popSpin {
    from {
        transform: rotate(-15deg) scale(0.8)
    }

    to {
        transform: rotate(0deg) scale(1)
    }
}

.ofp-label {
    font-size: .68rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    opacity: .8;
    margin-bottom: .15rem
}

.ofp-id {
    font-family: 'Playfair Display', serif;
    font-size: 1.3rem;
    font-weight: 700;
    letter-spacing: .5px;
    margin-bottom: .1rem
}

.ofp-status {
    font-size: .8rem;
    opacity: .85;
    font-weight: 500
}

.ofp-spinner {
    width: 24px;
    height: 24px;
    border: 3px solid rgba(255, 255, 255, .3);
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin .8s linear infinite;
    flex-shrink: 0
}

@keyframes spin {
    to {
        transform: rotate(360deg)
    }
}

/* ── CART QTY CONTROLS ── */
.ci-qty-row {
    display: flex;
    align-items: center;
    gap: .3rem
}

.ci-qty-btn {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    border: 1.5px solid var(--border);
    background: var(--bg2);
    color: var(--bark);
    font-size: .85rem;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all .18s;
    line-height: 1;
    padding: 0
}

.ci-qty-btn:hover {
    background: var(--bark);
    color: #fff;
    border-color: var(--bark)
}

.ci-qty {
    font-size: .82rem;
    font-weight: 700;
    color: var(--dark);
    min-width: 18px;
    text-align: center;
    transition: color var(--tr)
}

.ci-rem {
    background: none;
    border: none;
    color: var(--muted);
    cursor: pointer;
    font-size: .82rem;
    transition: color .2s;
    padding: .1rem .2rem;
    margin-left: .1rem
}

.ci-rem:hover {
    color: var(--rose)
}

/* ── OTP — SMALLER BOXES ── */


.otp-box:focus {
    border-color: var(--rose);
    background: var(--card-bg);
    box-shadow: 0 0 0 3px rgba(192, 57, 43, .12)
}

/* ── DEMO OTP HINT ── */
.demo-otp-hint {
    background: rgba(181, 136, 58, .12);
    border: 1px solid rgba(181, 136, 58, .3);
    border-radius: 10px;
    padding: .55rem .9rem;
    font-size: .78rem;
    color: var(--bark);
    text-align: center;
    margin-bottom: .4rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: .6rem;
    flex-wrap: wrap
}

.demo-otp-hint strong {
    font-size: .9rem;
    letter-spacing: 2px;
    font-weight: 700;
    font-family: 'Jost', sans-serif
}

.demo-fill-btn {
    background: var(--bark);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: .22rem .65rem;
    font-size: .72rem;
    font-weight: 600;
    cursor: pointer;
    transition: background .2s;
    font-family: 'Jost', sans-serif
}

/* ── CONFETTI ── */
.confetti {
    position: fixed;
    top: -10px;
    width: 10px;
    height: 10px;
    background: #c0392b;
    z-index: 9999;
    animation: fall linear forwards;
    pointer-events: none;
}

@keyframes fall {
    to {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
    }
}

/* ── SCROLL ANIMATIONS ── */
.reveal-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
}

.reveal-on-scroll.visible {
    opacity: 1;
    transform: translateY(0);
}

/* ═══════════════════════════════════════════════
   PAYMENT MODAL
   ═══════════════════════════════════════════════ */
.pay-modal {
    background: var(--card-bg);
    border-radius: 24px;
    width: 100%;
    max-width: 440px;
    padding: 0;
    overflow: hidden;
    box-shadow: 0 30px 80px rgba(0, 0, 0, .28);
    border: 1px solid var(--border);
    animation: modalPop .3s cubic-bezier(.34, 1.56, .64, 1);
}

.pay-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.3rem 1.6rem 1rem;
    border-bottom: 1px solid var(--border);
}

.pay-brand {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--dark);
}

.pay-brand span {
    color: var(--rose);
}

.pay-close {
    background: none;
    border: none;
    font-size: 1rem;
    color: var(--muted);
    cursor: pointer;
    padding: .3rem;
}

.pay-amount-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: linear-gradient(135deg, var(--bark), var(--rose));
    color: #fff;
    padding: 1rem 1.6rem;
    font-size: .85rem;
}

.pay-amount-bar strong {
    font-size: 1.5rem;
    font-family: 'Jost', sans-serif;
}

.pay-demo-hint {
    background: rgba(181, 136, 58, .12);
    border-bottom: 1px solid rgba(181, 136, 58, .25);
    color: var(--bark);
    font-size: .76rem;
    padding: .6rem 1.6rem;
    text-align: center;
}

#pm-form {
    padding: 1.4rem 1.6rem 1.6rem;
}

.pay-fgrp {
    display: flex;
    flex-direction: column;
    gap: .35rem;
    margin-bottom: .95rem;
}

.pay-fgrp label {
    font-size: .72rem;
    font-weight: 600;
    color: var(--muted);
    letter-spacing: .5px;
    text-transform: uppercase;
}

.pay-fgrp input {
    background: var(--bg2);
    border: 1.5px solid var(--border);
    border-radius: 12px;
    padding: .65rem 1rem;
    font-family: 'Jost', sans-serif;
    font-size: .9rem;
    color: var(--text);
    outline: none;
    width: 100%;
    transition: border-color .2s, background var(--tr);
}

.pay-fgrp input:focus {
    border-color: var(--rose);
    background: var(--card-bg);
}

.pay-card-wrap {
    position: relative;
}

.pay-card-wrap input {
    padding-right: 2.5rem;
}

.pay-card-ico {
    position: absolute;
    right: .85rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.1rem;
}

.pay-row2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: .8rem;
}

.pay-err {
    font-size: .74rem;
    color: var(--rose);
    min-height: .9rem;
    margin-bottom: .5rem;
}

.pay-btn {
    width: 100%;
    background: linear-gradient(135deg, var(--bark), var(--rose));
    color: #fff;
    border: none;
    border-radius: 12px;
    padding: .95rem;
    font-family: 'Jost', sans-serif;
    font-size: .95rem;
    font-weight: 600;
    cursor: pointer;
    letter-spacing: .5px;
    transition: all .25s;
    position: relative;
    overflow: hidden;
}

.pay-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 28px rgba(192, 57, 43, .35);
}

.pay-btn:active {
    transform: translateY(0);
}

.pay-btn:disabled {
    opacity: .7;
    pointer-events: none;
}

.pay-success {
    text-align: center;
    padding: 2.5rem 1.6rem 2rem;
}

.pay-success-ico {
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, #27ae60, #2ecc71);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.3rem;
    font-size: 2rem;
    color: #fff;
    font-weight: 700;
    box-shadow: 0 8px 28px rgba(39, 174, 96, .3);
    animation: popIn .4s cubic-bezier(.34, 1.56, .64, 1);
}

.pay-success h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.4rem;
    color: var(--dark);
    margin-bottom: .4rem;
}

.pay-success p {
    font-size: .84rem;
    color: var(--muted);
    margin-bottom: .9rem;
}

.pay-order-id {
    background: var(--bg2);
    border-radius: 10px;
    padding: .6rem 1.2rem;
    font-size: .82rem;
    color: var(--muted);
    display: inline-block;
}

.pay-order-id strong {
    color: var(--bark);
}